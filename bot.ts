// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import { Telegraf, Markup } from "telegraf";
import { Context } from "telegraf";

// –¢–∏–ø–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è TypeScript
interface MyContext extends Context {
  // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã
}

// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–æ–º
const bot = new Telegraf<MyContext>("<YOUR_BOT_TOKEN>");

// –°—Ü–µ–Ω–∞—Ä–∏–π —á–∞—Ç-–±–æ—Ç–∞
bot.start((ctx) => {
  ctx.reply(
    [
      "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é! üåü",
      "",
      "–ú–µ–Ω—è –∑–æ–≤—É—Ç –¢–∞—Ä–æ –ø–æ–º–æ—â–Ω–∏–∫, –∏ —è –ø–æ–º–æ–≥—É –≤–∞–º —É–≥–ª—É–±–∏—Ç—å—Å—è –≤ –º–∏—Ä –¢–∞—Ä–æ. ",
      "–Ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é –º–µ—Ç–æ–¥–∏–∫—É –õ–µ–ø—ë—à–∫–∏–Ω–æ–π –ê–Ω–∞—Å—Ç–∞—Å–∏–∏, –º–∞—Å—Ç–µ—Ä–∞ —Å 9-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã —Å —Ç–∞—Ä–æ –∏ —Å–æ–∑–¥–∞—Ç–µ–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–∞–º–∏.",
      "",
      "üí° –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑—É—á–∞—Ç—å –¢–∞—Ä–æ –ª–µ–≥–∫–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ, –Ω–∞—á–Ω–∏—Ç–µ —Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –≥–∞–π–¥–∞ ¬´–ú–∏–Ω—É—Å—ã –ø—Ä–∏–¥–≤–æ—Ä–Ω—ã—Ö –∞—Ä–∫–∞–Ω–æ–≤ –¢–∞—Ä–æ¬ª. –•–æ—Ç–∏—Ç–µ –∑–∞–±—Ä–∞—Ç—å?",
      "",
      "üëâ –ö—Å—Ç–∞—Ç–∏, –±–æ–ª—å—à–µ –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¢–∞—Ä–æ, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –ê–Ω–∞—Å—Ç–∞—Å–∏–∏:",
      "‚Ä¢ Instagram: https://www.instagram.com/glubina_taro/",
      "‚Ä¢ Telegram: https://t.me/Glubina_Taro",
      "‚Ä¢ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ: https://vk.com/glubina_taro",
      "‚Ä¢ –î–∑–µ–Ω: https://dzen.ru/glubina_taro",
    ].join("\n"),
    Markup.inlineKeyboard([
      Markup.button.callback("–î–∞, —Ö–æ—á—É –≥–∞–π–¥", "wants_guide"),
      Markup.button.callback("–ß—Ç–æ –∑–∞ –≥–∞–π–¥?", "guide_info"),
      Markup.button.callback("–ù–µ—Ç", "decline_guide"),
    ])
  );
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ "–î–∞, —Ö–æ—á—É –≥–∞–π–¥"
bot.action("wants_guide", (ctx) => {
  ctx.reply(
    [
      "–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–∞–π–¥ üëâ https://disk.yandex.com/i/zG6HYEKzMsuxUQ",
      "",
      "üéÅ –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ, –∏ –µ—Å–ª–∏ —É –≤–∞—Å –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤–æ–ø—Ä–æ—Å—ã, –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –∫–æ –º–Ω–µ.",
      "",
      "üí° –ö—Å—Ç–∞—Ç–∏, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ç–æ–º, –∫–∞–∫ –ø—Ä–∏–¥–≤–æ—Ä–Ω—ã–µ –∞—Ä–∫–∞–Ω—ã –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ (–¥–µ–Ω—å–≥–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –∫–∞—Ä—å–µ—Ä—É),",
      "—è –ø—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä ¬´–ü—Ä–∏–¥–≤–æ—Ä–Ω—ã–µ –∞—Ä–∫–∞–Ω—ã –¢–∞—Ä–æ –≤ —Å—Ñ–µ—Ä–∞—Ö –∂–∏–∑–Ω–∏¬ª!",
      "",
      "‚è∞ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 4,5 —á–∞—Å–∞",
      "üíµ –¶–µ–Ω–∞: –≤—Å–µ–≥–æ 1490 —Ä—É–±–ª–µ–π.",
    ].join("\n"),
    Markup.inlineKeyboard([
      Markup.button.callback("–•–æ—á—É –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä", "wants_webinar"),
      Markup.button.callback("–ß—Ç–æ –∑–∞ –≤–µ–±–∏–Ω–∞—Ä?", "webinar_info"),
      Markup.button.callback("–ù–µ—Ç", "decline_webinar"),
    ])
  );
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ "–ß—Ç–æ –∑–∞ –≥–∞–π–¥?"
bot.action("guide_info", (ctx) => {
  ctx.reply(
    [
      "–≠—Ç–æ—Ç –≥–∞–π–¥ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–∞–±–æ—Å—Ç–∏ –ø—Ä–∏–¥–≤–æ—Ä–Ω—ã—Ö –∞—Ä–∫–∞–Ω–æ–≤ ",
      "–∏ –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏—Ö —ç–Ω–µ—Ä–≥–∏—è–º–∏ –¥–∞–∂–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞—Å–∫–ª–∞–¥–∞—Ö.",
    ].join("\n")
  );
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ "–•–æ—á—É –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä"
bot.action("wants_webinar", (ctx) => {
  ctx.reply(
    [
      "–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä! –í–æ—Ç —Å—Å—ã–ª–∫–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä üëâ https://glubina-taro.skillspace.ru/l/vebinar-pridvornye",
      "",
      "üí≥ –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∏ —Å–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.",
      "",
      "üåü –ê –µ—â–µ —É –º–µ–Ω—è –µ—Å—Ç—å –∫—Ä—É—Ç–æ–π –≥–∞–π–¥ ¬´–ß—É–≤—Å—Ç–≤–∞ –≤ –¢–∞—Ä–æ¬ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≥–ª—É–±–∂–µ –ø–æ–Ω—è—Ç—å,",
      "–∫–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ —Å–∫—Ä—ã—Ç—ã –∑–∞ –∫–∞–∂–¥—ã–º –∞—Ä–∫–∞–Ω–æ–º.",
      "üíµ –¶–µ–Ω–∞ –≥–∞–π–¥–∞ ‚Äî –≤—Å–µ–≥–æ 990 —Ä—É–±–ª–µ–π.",
    ].join("\n"),
    Markup.inlineKeyboard([
      Markup.button.callback("–î–∞, —Ö–æ—á—É –≥–∞–π–¥", "wants_advanced_guide"),
      Markup.button.callback("–ù–µ—Ç, —Ç–æ–ª—å–∫–æ –≤–µ–±–∏–Ω–∞—Ä", "decline_advanced_guide"),
    ])
  );
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ "–î–∞, —Ö–æ—á—É –≥–∞–π–¥"
bot.action("wants_advanced_guide", (ctx) => {
  ctx.reply(
    [
      "–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –≥–∞–π–¥–∞ üëâ https://wedeeplight.payform.ru/?invoice_id=e848549cc859150efd8856fe049bc460&paylink=1",
      "",
      "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ PDF —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ —á—É–≤—Å—Ç–≤ –∏ —ç–º–æ—Ü–∏–π –∫–∞–∂–¥–æ–≥–æ –∞—Ä–∫–∞–Ω–∞.",
      "",
      "üåü –í—ã —É–∂–µ –∑–∞–¥—É–º—ã–≤–∞–ª–∏—Å—å –æ –≥–ª—É–±–æ–∫–æ–º –æ–±—É—á–µ–Ω–∏–∏ –¢–∞—Ä–æ? ",
      "–Ø –ø—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å –Ω–∞ –º–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π –∫—É—Ä—Å ¬´–ì–ª—É–±–∏–Ω–Ω—ã–π —Å–≤–µ—Ç –¢–∞—Ä–æ, —Å—Ç—É–ø–µ–Ω—å 1¬ª.",
      "–≠—Ç–æ –ø–æ–ª–Ω—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –æ—Å–≤–æ–∏—Ç—å –¢–∞—Ä–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ.",
    ].join("\n"),
    Markup.inlineKeyboard([
      Markup.button.callback("–î–∞, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ", "wants_course_info"),
      Markup.button.callback("–ù–µ—Ç", "decline_course"),
    ])
  );
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ "–î–∞, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ"
bot.action("wants_course_info", (ctx) => {
  ctx.reply(
    [
      "–≠—Ç–æ –∫—É—Ä—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å—Ç–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º –º–∞—Å—Ç–µ—Ä–æ–º –¢–∞—Ä–æ.",
      "–í—ã –±—É–¥–µ—Ç–µ –ø–æ–Ω–∏–º–∞—Ç—å –∫–∞—Ä—Ç—ã –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞—Å–∫–ª–∞–¥–∞—Ö, –Ω–æ –∏ –≤ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö.",
      "",
      "–í–æ—Ç —Å—Å—ã–ª–∫–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ üëâ [–≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É].",
      "",
      "üéÅ –ê –µ—â–µ —É –º–µ–Ω—è –µ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä—Å–∫–∞—è –∫–æ–ª–æ–¥–∞ Rainbow Tarot –∑–∞ 3500 —Ä—É–±–ª–µ–π",
      "–∏ –Ω–∞–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö —Å–≤–µ—á–µ–π ¬´–ñ–µ–ª–∞–Ω–∏–µ¬ª –∑–∞ 1500 —Ä—É–±–ª–µ–π.",
    ].join("\n"),
    Markup.inlineKeyboard([
      Markup.button.callback("–•–æ—á—É –∫–æ–ª–æ–¥—É", "wants_deck"),
      Markup.button.callback("–•–æ—á—É —Å–≤–µ—á–∏", "wants_candles"),
      Markup.button.callback("–ù–µ—Ç, –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ", "decline_extras"),
    ])
  );
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ "–•–æ—á—É –∫–æ–ª–æ–¥—É" –∏ "–•–æ—á—É —Å–≤–µ—á–∏"
bot.action("wants_deck", (ctx) => {
  ctx.reply(
    "–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∫–æ–ª–æ–¥—ã Rainbow Tarot üëâ [–≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É]."
  );
});

bot.action("wants_candles", (ctx) => {
  ctx.reply(
    "–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –Ω–∞–±–æ—Ä–∞ —Å–≤–µ—á–µ–π ¬´–ñ–µ–ª–∞–Ω–∏–µ¬ª üëâ [–≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É]."
  );
});

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞
bot.action("decline_extras", (ctx) => {
  ctx.reply(
    [
      "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –æ–±—Ä–∞—Ç–∏–ª–∏—Å—å –∫–æ –º–Ω–µ! üåü –ù–∞–ø–æ–º–∏–Ω–∞—é:",
      "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–∞–π–¥ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å.",
      "‚Ä¢ –ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä –∏ –∏–∑—É—á–∏—Ç—å –ø–ª–∞—Ç–Ω—ã–µ –≥–∞–π–¥—ã, —á—Ç–æ–±—ã —É–≥–ª—É–±–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è.",
      "",
      "–£–¥–∞—á–∏ –≤ –ø—Ä–∞–∫—Ç–∏–∫–µ –¢–∞—Ä–æ, –∏ –¥–æ —Å–∫–æ—Ä–æ–π –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ –∫—É—Ä—Å–µ ¬´–ì–ª—É–±–∏–Ω–Ω—ã–π —Å–≤–µ—Ç –¢–∞—Ä–æ, –°—Ç—É–ø–µ–Ω—å 1¬ª! üí´",
    ].join("\n")
  );
});

// –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
bot.launch();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–æ—Ç–∞
process.once("SIGINT", () => bot.stop("SIGINT"));
process.once("SIGTERM", () => bot.stop("SIGTERM"));

/*
TODO:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
2. –°–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
*/
